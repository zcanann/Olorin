import {Theme} from "../theme.slint";

import { TitleBarView, TitleBarAdapter } from "./title_bar_view.slint";
export { TitleBarAdapter }

import { FooterView, FooterAdapter } from "./footer_view.slint";
export { FooterAdapter }

import { DockRoot } from "./docking/dock_root.slint";
export { DockRoot }

import { PanelWindowView, PanelWindowAdapter } from "./docking/panel_window_view.slint";
export { PanelWindowView, PanelWindowAdapter }


import { HSeparator } from "./../widgets/separator.slint";
import { ContextMenu } from "./../widgets/context_menu/context_menu.slint";
import { ContextMenuItem } from "./../widgets/context_menu/context_menu_item.slint";

export component MainWindowView inherits Window {
    preferred-width: 1280px;
    preferred-height: 840px;
    background: transparent;
    no-frame: true;
    title: @tr("Squalr");
    VerticalLayout {
        title-bar := TitleBarView {
            title: @tr("Squalr");
        }

        // File/Edit/etc menu bar
        Rectangle {
            background: Theme.background-primary;
            height: 24px;
            menu-bar := HorizontalLayout {
                alignment: start;
                spacing: 8px;
                padding-left: 8px;
                file-header-button := Rectangle {
                    title := Text {
                        text: "File";
                        font-size: 10pt;
                        color: Theme.foreground;
                    }

                    file-header-touch-area := TouchArea {
                        clicked => {
                            file-menu.show()
                        }
                    }

                    file-menu := ContextMenu {
                        x: file-header-touch-area.mouse-x;
                        y: file-header-touch-area.mouse-y;
                        select-project := Text {
                            font-size: 10pt;
                            color: Theme.foreground;
                            text: "Select Project";
                        }

                        HSeparator { }

                        exit-app := Text {
                            font-size: 10pt;
                            color: Theme.foreground;
                            text: "Exit Squalr";
                        }
                    }
                }
            }
        }

        dock-root := DockRoot { }

        footer := FooterView { }
    }
}
