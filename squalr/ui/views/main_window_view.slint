import { Theme } from "../theme.slint";

import { DockRoot } from "./../components/docking/dock_root.slint";
import { HSeparator } from "./../components/separator.slint";
import { ToolbarMenu } from "./../components/toolbar_menu/toolbar_menu.slint";

import { FooterView } from "./footer_view.slint";
import { TitleBarView } from "./title_bar_view.slint";
import { ShortcutBarView } from "./shortcut_bar_view.slint";
import { OutputView } from "output_view.slint";
import { ProcessSelectorView } from "process_selector_view.slint";

import { WindowViewModelBindings } from "./../view_model_bindings.slint";
import { HorizontalBox } from "std-widgets.slint";
import { ScanResultsView } from "scan_results_view.slint";
import { PropertyViewerView } from "property_viewer_view.slint";
import { SettingsView } from "settings_view.slint";

export component MainWindowView inherits Window {
    title: @tr("Squalr");
    default-font-family: "Segoe UI";
    default-font-size: 10pt;
    default-font-weight: 525;
    preferred-width: 1280px;
    resize-border-width: 4px;
    preferred-height: 840px;
    background: transparent;
    no-frame: true;
    VerticalLayout {
        title-bar := TitleBarView {
            title: @tr("Squalr");
        }

        toolbar-menu := ToolbarMenu {
            menus: [
                {
                    header: "File",
                    items:[
                        { key: "select-project", text:"Select Project" },
                        { key: "export-project", text:"Export Project as Table..." },
                        { key: "exit", text: "Exit Squalr", separator: true }
                    ]
                },
                { header: "Edit", items:[{ key: "settings", text:"Settings" }] },
                { header: "Layout", items:[{ key: "layout-reset", text:"Reset Layout" }] },
                {
                    header: "Windows",
                    items:[
                        { key: "process-selector", text:"Process Selector" },
                        { key: "project-explorer", text:"Project Explorer" },
                        { key: "property-viewer", text:"Property Viewer" },
                        { key: "memory-viewer", text:"Memory Viewer" },
                        { key: "scan-results", text:"Scan Results" },
                        { key: "pointer-results", text:"Pointer Scan Results" },
                        { key: "snapshot-manager", text:"Snapshot Manager" },
                        { key: "dotnet-explorer", text:".NET Explorer" },
                    ]
                },
                { header: "Scans", items:[{ key: "scans", text:"Pointer Scan" }] },
                {
                    header: "Debugger",
                    items:[
                        { key: "disassembly", text:"Disassembly" },
                        { key: "code-tracer", text:"Code Tracer" }
                    ]
                },
            ];
            onItemClicked(key) => {
                if key == "exit" {
                    WindowViewModelBindings.close();
                } else if key == "select-project" {
                } else if key == "export-project" {
                } else if key == "settings" {
                } else if key == "layout-reset" {
                } else if key == "process-selector" {
                } else if key == "project-explorer" {
                } else if key == "memory-viewer" {
                } else if key == "scan-results" {
                } else if key == "pointer-results" {
                } else if key == "snapshot-manager" {
                } else if key == "dotnet-explorer" {
                }
            }
        }

        shortcut-bar := ShortcutBarView { }

        dock-root := DockRoot {
            GridLayout {
                Row {
                    HorizontalBox {
                        padding: 0px;
                        spacing: 0px;
                        process-selector-view := ProcessSelectorView { }

                        settings-view := SettingsView { }

                        scan-results-view := ScanResultsView { }
                    }
                }

                Row {
                    HorizontalBox {
                        padding: 0px;
                        spacing: 0px;
                        output-view := OutputView { }

                        property-viewer-view := PropertyViewerView { }
                    }
                }
            }
        }

        footer := FooterView { }
    }
}
